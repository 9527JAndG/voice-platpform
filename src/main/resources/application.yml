server:
  port: 8080
  servlet:
    context-path: /

spring:
  application:
    name: aligenie-smarthome
  
  datasource:
    url: jdbc:mysql://localhost:3306/smarthomedb?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai
    username: root
    password: Ry123456
    driver-class-name: com.mysql.cj.jdbc.Driver
    
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate:
        format_sql: true
        dialect: org.hibernate.dialect.MySQL8Dialect

# OAuth2 配置
oauth2:
  # 授权码有效期（秒）
  code-expire-seconds: 120
  # Access Token 有效期（秒）
  access-token-expire-seconds: 259200
  # Refresh Token 有效期（秒）
  refresh-token-expire-seconds: 2592000
  
  # JWT 配置
  jwt:
    # JWT 签名密钥（生产环境请使用更复杂的密钥）
    secret: VoicePlatformJwtSecretKey2024ForSmartHomePlatformIntegration
    # JWT 发行者
    issuer: https://voice-platform.example.com
    # Access Token 有效期（秒）
    access-token-validity: 3600
    # Refresh Token 有效期（秒）
    refresh-token-validity: 2592000
    # Token 类型：jwt 或 opaque
    token-type: jwt

# Alexa 配置
alexa:
  # Alexa Skill Client ID（从 Alexa Developer Console 获取）
  client-id: ${ALEXA_CLIENT_ID:amzn1.application-oa2-client.example}
  # Alexa Skill Client Secret（从 Alexa Developer Console 获取）
  client-secret: ${ALEXA_CLIENT_SECRET:your-client-secret-here}
  # Alexa Event Gateway URL
  event-gateway-url: https://api.amazonalexa.com/v3/events
  # Alexa Token Exchange URL
  token-exchange-url: https://api.amazon.com/auth/o2/token

# Google Assistant 配置
google:
  # Google Project ID（从 Google Cloud Console 获取）
  project-id: ${GOOGLE_PROJECT_ID:your-project-id}
  # Service Account 配置
  service-account:
    # Service Account Email
    client-email: ${GOOGLE_SERVICE_ACCOUNT_EMAIL:your-service-account@your-project.iam.gserviceaccount.com}
    # Service Account Private Key（Base64 编码）
    private-key: ${GOOGLE_SERVICE_ACCOUNT_KEY:your-private-key-here}
  # HomeGraph API URL
  homegraph:
    request-sync-url: https://homegraph.googleapis.com/v1/devices:requestSync
    report-state-url: https://homegraph.googleapis.com/v1/devices:reportStateAndNotification

# 日志配置
logging:
  level:
    com.voice.platform: DEBUG
    org.springframework.web: INFO
    org.springframework.security: DEBUG
